# This file is managed by Ansible. Do not edit manually.
#
# This configuration allows the 'pi' user to run specific systemctl commands
# required by the pi-agent service without a password and without triggering
# excessive logging. The 'Defaults' line disables the verbose logging for
# these commands.

Defaults!/bin/systemctl,/bin/mkdir,/bin/mv !syslog

# Pi Agent Sudoers Configuration
# Generated by Ansible for sculpture system
# Allows pi-agent to manage audio services without full sudo access

# Service management commands (no password required)
pi ALL=(ALL) NOPASSWD: /bin/systemctl stop darkice.service, \
                       /bin/systemctl stop player-live.service, \
                       /bin/systemctl stop player-loop.service, \
                       /bin/systemctl start darkice.service, \
                       /bin/systemctl start player-live.service, \
                       /bin/systemctl start player-loop.service, \
                       /bin/systemctl restart darkice.service, \
                       /bin/systemctl restart player-live.service, \
                       /bin/systemctl restart player-loop.service, \
                       /bin/systemctl restart pi-agent.service, \
                       /bin/systemctl daemon-reload, \
                       /bin/systemctl is-active darkice.service, \
                       /bin/systemctl is-active player-live.service, \
                       /bin/systemctl is-active player-loop.service, \
                       /sbin/reboot, \
                       /sbin/poweroff

# File system operations for service configuration
pi ALL=(ALL) NOPASSWD: /bin/mkdir -p /etc/systemd/system/player-loop.service.d, \
                       /bin/mv /tmp/sculpture-override.conf.tmp /etc/systemd/system/player-loop.service.d/override.conf, \
                       /bin/mkdir -p /opt/sculpture-system/playlists