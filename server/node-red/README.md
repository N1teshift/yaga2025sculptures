# Node-RED Flow Management

This directory contains documentation related to the Node-RED flows for the sculpture control dashboard.

## Structure

The main `flow.json` file, which is used by Node-RED, is **auto-generated by Ansible** and should not be edited directly.

The flows are built from smaller Jinja2 templates located in `server/ansible/templates/flow_parts/`. These templates are assembled by the Ansible playbook `server/ansible/install_control_node.yml`.

## Making Changes

To make changes to the Node-RED flow:

1.  Identify and edit the appropriate template file(s) in the `server/ansible/templates/flow_parts/` directory.
2.  Run the main Ansible playbook to regenerate and deploy the `flow.json` file to the control node.

The Ansible playbook will combine the templates and place the resulting `flow.json` in the Node-RED data directory on the target machine. You will need to restart Node-RED to see the changes, which the playbook should handle automatically. 